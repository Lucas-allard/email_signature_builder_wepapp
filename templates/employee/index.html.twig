{% extends 'base.html.twig' %}

{% block title %}Accueil{% endblock %}

{% block body %}

    <div class="container  page-wrapper overflow-hidden">
        <div class="d-flex justify-content-between align-items-center bg-blue text-primary p-3">
            <h3 class="table-title text-light">Signature Générateur</h3>
            <div class="p-2">
                <a href="{{ path('app_employee_new') }}" class="btn btn-light"><i class="fa-solid fa-plus"></i> Ajouter un collaborateur</a>
            </div>
        </div>
        <div class="p-5 bg-light">
            <table class="table p-3">
                <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Prénom</th>
                    <th scope="col">Nom</th>
                    <th scope="col">Rôle</th>
                    <th scope="col" class="text-center">Action</th>
                </tr>
                </thead>
                <tbody>
                {% for employee in employees %}
                    <tr data-employee-id="{{ employee.id }}" class="">
                        <th scope="row">{{ employee.id }}</th>
                        <td>{{ employee.firstname }}</td>
                        <td>{{ employee.lastname }}</td>
                        <td>{{ employee.position }}</td>
                        <td class="text-center">
                            <div class="btn-group-sm dropdown">
                                <button type="button" class="btn btn-light btn-sm dropdown-toggle"
                                        data-bs-toggle="dropdown"
                                        aria-expanded="false">
                                    Action
                                </button>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a class="dropdown-item"
                                           href="{{ path('app_employee_edit', {employee: employee.id}) }}"><i
                                                    class="fa-solid fa-pen"></i> Editer</a>
                                        <input type="hidden" name="csrf_token" value={{ csrf_token("employee") }}>
                                    </li>
                                    <li>
                                        <button class="dropdown-item" type="button" data-bs-toggle="modal"
                                                data-bs-target="#deleteModal" data-employee-id="{{ employee.id }}">
                                            <i class="fa-solid fa-trash"></i> Supprimer
                                        </button>
                                    </li>
                                    <li>
                                        <a class="dropdown-item"
                                           href="{{ path('app_employee_show', {employee: employee.id}) }}"><i class="fa-solid fa-signature"></i> Signature
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    {{ include('shared/_modal.html.twig') }}

{% endblock %}



